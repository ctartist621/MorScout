<!DOCTYPE html>
<html lang="en">

  <head>

  	<meta charset="utf-8" />
  	<meta http-equiv="X-UA-Compatible" content="IE=edge">
  	<meta name="viewport" content="width=device-width, initial-scale=1">

    <title>MorScout</title>

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css">
    <link rel="stylesheet" href="http://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.css">

    <link href='http://fonts.googleapis.com/css?family=Open+Sans:700,300,400' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Roboto' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Exo+2:100' rel='stylesheet' type='text/css'>

    <link rel="stylesheet" href="css/index.css" type="text/css">

    <script src="http://code.jquery.com/jquery-1.11.2.min.js"></script>

    <script type='application/javascript' src='js/fastclick.js'></script>
    <script>
      if ('addEventListener' in document) {
        document.addEventListener('DOMContentLoaded', function() {
          FastClick.attach(document.body);
        }, false);
      }
    </script>

    <script>
    $(document).on('mobileinit', function () {
        $.mobile.ignoreContentEnabled = true;
    });
    </script>

    <script type="text/javascript">
    $(document).on('pagecreate', '#indexPage', function(){        
        $( document ).on( "swiperight", "#indexPage", function( e ) {
          if ( $.mobile.activePage.jqmData( "panel" ) !== "open" ) {
            if (e.type === "swiperight") {
                console.log("swipe");
                $( "#leftPanel" ).panel( "open" );
                $('input').blur();
                $('textarea').blur();
            }  
          }        
        });
        var msgs = ['Welcome to MorScout!', 'OurScout is MorScout Than YourScout', 'Made With Fifty Shades of Orange'];
        var rand = Math.floor(Math.random() * msgs.length);
        if(rand == msgs.length){
          rand --;
        }
        $('#randMsg').html(msgs[rand]);
    });
    $(document).on('pagebeforeshow', '#matchesPage', function(){ 
      if(localStorage.hasSynced == "true"){
          var jsonfile = JSON.parse(localStorage.matches);
          var table = document.createElement('table');
          
          var header_row = document.createElement('tr');
          
          var th1 = document.createElement('th');
          var th2 = document.createElement('th');
          var th3 = document.createElement('th');
          var th4 = document.createElement('th');
          var th5 = document.createElement('th');
          th4.colSpan = "3";
          th5.colSpan = "3";

          $(th4).addClass('matchesTableHide');
          $(th5).addClass('matchesTableHide');
          $(th4).addClass('redTeamHeader');
          $(th5).addClass('blueTeamHeader');
          
          var th_text1 = document.createTextNode("#");
          var th_text2 = document.createTextNode("Time");
          var th_text3 = document.createTextNode("Progress");
          var th_text4 = document.createTextNode("Red Teams");
          var th_text5 = document.createTextNode("Blue Teams");
          
          th1.appendChild(th_text1);
          th2.appendChild(th_text2);
          th3.appendChild(th_text3);
          th4.appendChild(th_text4);
          th5.appendChild(th_text5);
          
          header_row.appendChild(th1);
          header_row.appendChild(th2);
          header_row.appendChild(th3);
          header_row.appendChild(th4);
          header_row.appendChild(th5);
          
          table.appendChild(header_row);
          
          for (match_number = 0 ; match_number < Object.keys(jsonfile).length  ; match_number++) {
              
              var real_match_number = Object.keys(jsonfile)[match_number];
              var real_match_number_plus_one = Object.keys(jsonfile)[match_number+1];
              
              var tr = document.createElement('tr');

              $(tr).addClass("hoverable_row")
               
              var td1 = document.createElement('td');
              var td2 = document.createElement('td');
              var td3 = document.createElement('td');
              var td4 = document.createElement('td');
              var td5 = document.createElement('td');
              var td6 = document.createElement('td');
              var td7 = document.createElement('td');
              var td8 = document.createElement('td');
              var td9 = document.createElement('td');

              $(td4).addClass('matchesTableHide');
              $(td5).addClass('matchesTableHide');
              $(td6).addClass('matchesTableHide');
              $(td7).addClass('matchesTableHide');
              $(td8).addClass('matchesTableHide');
              $(td9).addClass('matchesTableHide');
              
              if(localStorage.userTeam) {
                var allTeams = jsonfile[real_match_number].red.concat(jsonfile[real_match_number].blue);
                var tds = [td4, td5, td6, td7, td8, td9];
                for(var i = 0; i < 6; i++) {
                  if(allTeams[i] == localStorage.userTeam) {
                    $(tds[i]).addClass("selfTeamHighlight");
                    break;
                  }
                  var ally = false;
                  var enemy = false;
                  for(var m in jsonfile) {
                    if(parseInt(m) > parseInt(real_match_number)) {
                      var selfRed = ~jsonfile[m].red.indexOf(localStorage.userTeam);
                      var selfBlue = ~jsonfile[m].blue.indexOf(localStorage.userTeam);
                      var otherRed = ~jsonfile[m].red.indexOf(allTeams[i]);
                      var otherBlue = ~jsonfile[m].blue.indexOf(allTeams[i]);
                      if((selfRed && otherRed) || (selfBlue && otherBlue)) {
                        ally = true;
                      }
                      if((selfRed && otherBlue) || (selfBlue && otherRed)) {
                        enemy = true;
                      }
                    }
                  }
                  if(ally && enemy) {
                    $(tds[i]).addClass("frenemyTeamHighlight");
                  }
                  else if(ally) {
                    $(tds[i]).addClass("allyTeamHighlight");
                  }
                  else if(enemy) {
                    $(tds[i]).addClass("enemyTeamHighlight");
                  }
                }
              }
              else {
                $(td4).addClass('redTeamHighlight');
                $(td5).addClass('redTeamHighlight');
                $(td6).addClass('redTeamHighlight');

                $(td7).addClass('blueTeamHighlight');
                $(td8).addClass('blueTeamHighlight');
                $(td9).addClass('blueTeamHighlight');
              }


              var text1 = document.createTextNode(real_match_number);

              
              var BlueAllianceTime = new Date(jsonfile[real_match_number].timestamp*1000);
              var Hours = BlueAllianceTime.getHours();
              var suffix;
              if(parseInt(Hours) > 12){
                Hours = (parseInt(Hours) - 12).toString();
                suffix = "PM";
              }else if(Hours == "12"){
                suffix = "PM";
              }else{
                suffix = "AM";
              }
              var Minutes = BlueAllianceTime.getMinutes();
              if(parseInt(Minutes) < 10){
                Minutes = "0" + Minutes;
              }
              var text2 = document.createTextNode(Hours+":"+Minutes+" "+suffix);
              
              
              var scouted = 0;
              var teams = jsonfile[real_match_number].red.concat(jsonfile[real_match_number].blue);
              for(var i = 0; i < teams.length; i++) {
                var team = JSON.parse(localStorage.data)[teams[i]];
                if(team && team[real_match_number] && Object.keys(team[real_match_number]).length > 0 && team[real_match_number][Object.keys(team[real_match_number])[0]].length > 0) {
                  scouted++;
                }
              }
              var text3 = document.createTextNode(scouted == 0 ? "none" : scouted == 6 ? "complete" : scouted + " of 6");

              var text4 = document.createTextNode(jsonfile[real_match_number].red[0]);
              var text5 = document.createTextNode(jsonfile[real_match_number].red[1]);
              var text6 = document.createTextNode(jsonfile[real_match_number].red[2]);
              var text7 = document.createTextNode(jsonfile[real_match_number].blue[0]);
              var text8 = document.createTextNode(jsonfile[real_match_number].blue[1]);
              var text9 = document.createTextNode(jsonfile[real_match_number].blue[2]);

              td1.appendChild(text1);
              td2.appendChild(text2);
              td3.appendChild(text3);
              td4.appendChild(text4);
              td5.appendChild(text5);
              td6.appendChild(text6);
              td7.appendChild(text7);
              td8.appendChild(text8);
              td9.appendChild(text9);
              
              tr.appendChild(td1);
              tr.appendChild(td2);
              tr.appendChild(td3);
              tr.appendChild(td4);
              tr.appendChild(td5);
              tr.appendChild(td6);
              tr.appendChild(td7);
              tr.appendChild(td8);
              tr.appendChild(td9);

              table.appendChild(tr);

              var currentTime = new Date().getTime();

              if(real_match_number_plus_one !== undefined){
                if((jsonfile[real_match_number].timestamp*1000) <= currentTime && currentTime < (jsonfile[real_match_number_plus_one].timestamp*1000)){
                  $(tr).children('td:lt(3)').addClass('current_match');
                }else{
                  $(tr).children('td:lt(3)').removeClass('current_match');
                }
              }else{
                if((jsonfile[real_match_number].timestamp*1000) <= currentTime && currentTime < ((jsonfile[real_match_number].timestamp*1000)+(1000*60*6))){
                  $(tr).children('td:lt(3)').addClass('current_match');
                }else{
                  $(tr).children('td:lt(3)').removeClass('current_match');
                }
              }

              /*var currentTime = new Date().getTime();
              if(real_match_number_plus_one !== undefined){
                if(jsonfile[real_match_number].timestamp <= currentTime && currentTime < jsonfile[real_match_number_plus_one].timestamp){
                  $(tr).addClass('current_match');
                }else{
                  $(tr).removeClass('current_match');
                }
              }else{
                if(jsonfile[real_match_number].timestamp <= currentTime && currentTime < jsonfile[real_match_number].timestamp + 1000*60*6){
                  $(tr).addClass('current_match');
                }
              }*/


              /*var time = new Date();
              if(real_match_number_plus_one !== undefined){
                if(toMilitary(jsonfile[real_match_number].time) <= getMilitary(time) && getMilitary(time) < toMilitary(jsonfile[real_match_number_plus_one].time)){
                  $(tr).addClass('current_match');
                }else{
                  $(tr).removeClass('current_match');
                }
              } else {
                if(toMilitary(jsonfile[real_match_number].time) <= getMilitary(time) && getMilitary(time) < addMinutes(toMilitary(jsonfile[real_match_number].time), 5)){
                  $(tr).addClass('current_match');
                }
              }*/
          }
          
          $('#matchesPage').append(table);
          
          $('#loadingMatches').hide();
          $(table).addClass('matches_table')
          $('.matches_table').children("tr:first").addClass("first_row");
          $('.matches_table').children("tr:odd").addClass("odd_row");
          
          $('tr').not(".first_row").addClass('table_hover')
          
          $('tr').not(".first_row").click(function(){
            localStorage.match = $(this).children(":first").text();
            localStorage.time = $(this).children(":first").next().text();
            $(':mobile-pagecontainer').pagecontainer('change', 'report.html', {transition: "slide"});
          });

          if(window.innerWidth<630){
            $('.matchesTableHide').hide();
          }else{
            $('.matchesTableHide').show();
          }

          var $rows = $('.matches_table tr');
          $('#search_m').keyup(function() {
            $('tr').removeClass('odd_row');
              var val = $.trim($(this).val()).replace(/ +/g, ' ').toLowerCase();
              if(val==""){
                $("tr:odd").addClass("odd_row");
              }

              $rows.show().filter(function() {
                  var text = $(this).text().replace(/\s+/g, ' ').toLowerCase();
                  return !~text.indexOf(val);
              }).hide();
              $(".first_row").show();
          });

        }else{
          $('#search_m').hide();
          $('#loadingMatches').html('Log in first!');
          setTimeout(function(){
            $('.loginLink').trigger('click');
          }, 1000)
        };
    });
    $(window).resize(function() {
      if(window.innerWidth<630){
        $('.matchesTableHide').hide();
      }else{
        $('.matchesTableHide').show();
      }
    });
    
    $(document).on('pagecreate', '#matchesPage', function(){
        $( document ).on( "swiperight", "#matchesPage", function( e ) {
          if ( $.mobile.activePage.jqmData( "panel" ) !== "open" ) {
            if (e.type === "swiperight") {
                console.log("swipe");
                $( "#leftPanel" ).panel( "open" );
                $('input').blur();
                $('textarea').blur();
            }  
          }        
        });
    });
    $(document).on('pagecontainerbeforehide', '#matchesPage', function(){ 
      $(".matches_table").remove();
    });

    $(document).on('pagecreate', '#teamsPage', function(){     
        $( document ).on( "swiperight", "#teamsPage", function( e ) {
          if ( $.mobile.activePage.jqmData( "panel" ) !== "open" ) {
            if (e.type === "swiperight") {
                console.log("swipe");
                $( "#leftPanel" ).panel( "open" );
                $('input').blur();
                $('textarea').blur();
            }  
          }        
        });
    });
    $(document).on('pagebeforeshow', '#teamsPage', function(){
      if(localStorage.hasSynced == "true"){
    
        var jsonfile = JSON.parse(localStorage.teams);

        var table = document.createElement('table');
        
        var header_row = document.createElement('tr');
        
        var th1 = document.createElement('th');
        var th2 = document.createElement('th');
        
        var th_text1 = document.createTextNode("Team");
        var th_text2 = document.createTextNode("Name");
        
        th1.appendChild(th_text1);
        th2.appendChild(th_text2);
        
        header_row.appendChild(th1);
        header_row.appendChild(th2);
        
        table.appendChild(header_row);
        
        for (match_number = 0 ; match_number < Object.keys(jsonfile).length  ; match_number++) {
            
          var real_match_number = Object.keys(jsonfile)[match_number];
          var tr = document.createElement('tr');
          $(tr).addClass("hoverable_row")

          var td1 = document.createElement('td');
          var td2 = document.createElement('td');

          var text1 = document.createTextNode(real_match_number);
          var text2 = document.createTextNode(jsonfile[real_match_number]);

          td1.appendChild(text1);
          td2.appendChild(text2);
            
          tr.appendChild(td1);
          tr.appendChild(td2);

          table.appendChild(tr);

        };
        
        $('#teamsPage').append(table);
        
        $('#loadingTeams').hide();
        $(table).addClass('teams_table');
        $('.teams_table').children("tr:first").addClass("first_row");
        $('.teams_table').children("tr:odd").addClass("odd_row");
        
        $('tr').not(".first_row").addClass('table_hover');
        
        $('tr').not(".first_row").click( function(){
          localStorage.pitTeam = $(this).children(":first").text();
          localStorage.pitName = $(this).children(":first").next().text();
          $(':mobile-pagecontainer').pagecontainer('change', 'reportTeam.html', {transition: "slide"});
        });

        var $rows = $('.teams_table tr');
        $('#search_t').keyup(function() {
          $('tr').removeClass('odd_row');
            var val = $.trim($(this).val()).replace(/ +/g, ' ').toLowerCase();
            if(val==""){
              $("tr:odd").addClass("odd_row");
            }

            $rows.show().filter(function() {
                var text = $(this).text().replace(/\s+/g, ' ').toLowerCase();
                return !~text.indexOf(val);
            }).hide();
            $(".first_row").show();
        });

      } else {
        $('#search_t').hide();
        $('#loadingTeams').html('Log in first!');
          setTimeout(function(){
          $(':mobile-pagecontainer').pagecontainer('change', 'login.html', {transition: "none"});
        }, 1000)
      }
    });
    $(document).on('pagecontainerbeforehide', '#teamsPage', function(){ 
      $(".teams_table").remove();
    });
    $(document).on('pagecreate', '#syncPage', function(){
        $('#loadingSync').hide();
        $('#sync_button').click(function(){
          $(this).fadeOut(300);
          $('#loadingSync').fadeIn(300);
          sync();
        });      
        $( document ).on( "swiperight", "#syncPage", function( e ) {
          if ( $.mobile.activePage.jqmData( "panel" ) !== "open" ) {
            if (e.type === "swiperight") {
                console.log("swipe");
                $( "#leftPanel" ).panel( "open" );
                $('input').blur();
                $('textarea').blur();
            }  
          }        
        });
    });
    $(document).on('pagecreate', '#settingsPage', function(){ 
        $('#ip_button').hover(function() {
          $(this).toggleClass('button_hovered')
        });
        $('#ip_button').bind('touchstart',function() {
          $(this).addClass('button_hovered')
        });
        $('#ip_button').bind('touchend',function() {
          $(this).removeClass('button_hovered')
        });
        $('#ip_button').click(function(){
          if(document.getElementById('ip_text').value !== ""){
            localStorage.ip = document.getElementById('ip_text').value;
            $('#ip_text').attr('placeholder', localStorage.ip);
          } else {
            alert("IP can not be empty!");
          }
        });

        $('#port_button').hover(function() {
          $(this).toggleClass('button_hovered')
        });
        $('#port_button').bind('touchstart',function() {
          $(this).addClass('button_hovered')
        });
        $('#port_button').bind('touchend',function() {
          $(this).removeClass('button_hovered')
        });
        $('#port_button').click(function(){
          if(document.getElementById('port_text').value !== ""){
            localStorage.port = document.getElementById('port_text').value;
            $('#port_text').attr('placeholder', localStorage.port);
          } else {
            alert("Port can not be empty!");
          } 
        });

        $('#ip_text').val(localStorage.ip);
        $('#port_text').val(localStorage.port);
        $('#ip_text').attr('placeholder', localStorage.ip);
        $('#port_text').attr('placeholder', localStorage.port);   

        $( document ).on( "swiperight", "#settingsPage", function( e ) {
          if ( $.mobile.activePage.jqmData( "panel" ) !== "open" ) {
            if (e.type === "swiperight") {
                console.log("swipe");
                $( "#leftPanel" ).panel( "open" );
                $('input').blur();
                $('textarea').blur();
            }  
          }        
        });
    });
    $(document).on('pagecreate', '#helpPage', function(){      
        $( document ).on( "swiperight", "#helpPage", function( e ) {
          if ( $.mobile.activePage.jqmData( "panel" ) !== "open" ) {
            if (e.type === "swiperight") {
                console.log("swipe");
                $( "#leftPanel" ).panel( "open" );
                $('input').blur();
                $('textarea').blur();
            }  
          }        
        });
    });
    $(document).on('pagecreate', '#feedbackPage', function(){      
        $( document ).on( "swiperight", "#feedbackPage", function( e ) {
          if ( $.mobile.activePage.jqmData( "panel" ) !== "open" ) {
            if (e.type === "swiperight") {
                console.log("swipe");
                $( "#leftPanel" ).panel( "open" );
                $('input').blur();
                $('textarea').blur();
            }  
          }        
        });
    });
    $(document).on('pagecreate', '#loginPage', function(){
        sessionStorage.removeItem('user') 
        sessionStorage.removeItem('token')
        if(localStorage.ip == undefined){
          localStorage.ip = "localhost";
        }
        if(localStorage.port == undefined){
          localStorage.port = "8080";
        }
        $('#login_button').hover(function() {
          $(this).toggleClass('button_hovered')
        });
        $('#login_button').bind('touchstart',function() {
          $(this).addClass('button_hovered')
        });
        $('#login_button').bind('touchend',function() {
          $(this).removeClass('button_hovered')
        });
        if($(window).width()<768){
          $('.current_page').show();
        }else{
          $('.current_page').hide();
        }    
        $( document ).on( "swiperight", "#loginPage", function( e ) {
          if ( $.mobile.activePage.jqmData( "panel" ) !== "open" ) {
            if (e.type === "swiperight") {
                console.log("swipe");
                $( "#leftPanel" ).panel( "open" );
                $('input').blur();
                $('textarea').blur();
            }  
          }        
        });
    });
    $(document).on('pagebeforeshow', '#reportPage', function(){
      
      if(localStorage.hasSynced){
        
        var jsonfile = JSON.parse(localStorage.matches)
        
        
        var r1 = document.createTextNode(jsonfile[localStorage.match].red[0]);
        var r2 = document.createTextNode(jsonfile[localStorage.match].red[1]);
        var r3 = document.createTextNode(jsonfile[localStorage.match].red[2]);
        var b1 = document.createTextNode(jsonfile[localStorage.match].blue[0]);
        var b2 = document.createTextNode(jsonfile[localStorage.match].blue[1]);
        var b3 = document.createTextNode(jsonfile[localStorage.match].blue[2]);
        
        document.getElementById('r1').appendChild(r1);
        document.getElementById('r2').appendChild(r2);
        document.getElementById('r3').appendChild(r3);
        document.getElementById('b1').appendChild(b1);
        document.getElementById('b2').appendChild(b2);
        document.getElementById('b3').appendChild(b3);
        
        $('#report_match_num').html(localStorage.match);
        $('#report_match_time').html(localStorage.time);
        
      };
    });

    $(document).on('pagecreate', '#reportPage', function(){     
        $( document ).on( "swiperight", "#reportPage", function( e ) {
          if ( $.mobile.activePage.jqmData( "panel" ) !== "open" ) {
            if (e.type === "swiperight") {
                console.log("swipe");
                $( "#leftPanel" ).panel( "open" );
                $('input').blur();
                $('textarea').blur();
            }  
          }        
        });
        
        
        $('.report_table td').click(function(){
          $('#view_nearDrivers').html("No Info")
          $('#view_teleopComments').html("No Info")
          $('#view_highestToteAuto').html("No Info")
          $('#view_grayTotes').html("No Info")
          $('#view_containers').html("No Info")
          $('#view_containerLitter').html("No Info")
          $('#view_landfillLitter').html("No Info")
          $('#view_highestToteTeleop').html("No Info")
          $('#view_autoComments').html("No Info")
          $('#view_robotMoved').html("No Info")
          $('#view_toteMoved').html("No Info")
          $('#view_containerMoved').html("No Info")
          $('#view_toteStacked').html("No Info")
          $('#view_landfillContainer').html("No Info")
          $('#view_coopertitionSet').html("No Info")
          $('#view_coopertitionStack').html("No Info")
          localStorage.removeItem('team');
          localStorage.team = $(this).text();
          $('td').removeClass('button_selected_report');
          $(this).addClass('button_selected_report');
          $('#scout_form').fadeIn(300);
          $('#report_tabs').fadeIn(300);
          $('#scout_tab').trigger("click");
          // location = "reportTeam.html?" + getQS({"team" : $(this).text()});
        });
        $('#view_tab').click(function(){
          $('#view_tab').addClass("active");
          $('#scout_tab').removeClass('active');
          $('#scout_form').hide();
          $('.view_form').show();
          viewDataMatch();
          autoSync();
        });
        $('#scout_tab').click(function(){
          $('#scout_tab').addClass("active");
          $('#view_tab').removeClass('active');
          $('#scout_form').show();
          $(".view_form").hide();
          $('#submit_match_report').html('Submit');
          $('#submit_match_report').prop('disabled', false);
          $('#submit_match_report').css({"background-color":"DarkOrange","color":"black"});
          $('#submit_match_report').addClass('button');
          $('#submit_match_report').removeClass('button_disabled');
          $('#viewContainer').html("");
          autoSync();
        });
        
        $('#submit_match_report').click(function(){

          var report = {
            "meta" : {
              "team" : localStorage.team,
              "match" : localStorage.match,
              "time" : new Date().getTime(),
              "scout" : localStorage.user || sessionStorage.user
            },
            "data" : {
              autoComments : $('#autoComments').val(),
              teleopComments : $('#teleopComments').val(),
              highestToteAuto : parseInt($('.highestToteAuto').val()) || 0,
              grayTotes : parseInt($('.grayTotes').val()) || 0,
              containers : parseInt($('.containers').val()) || 0,
              containerLitter : parseInt($('.containerLitter').val()) || 0,
              landfillLitter : parseInt($('.landfillLitter').val()) || 0,
              highestToteTeleop : parseInt($('.highestToteTeleop').val()) || 0,
              nearDrivers : $('#nearDrivers').is(':checked'),
              robotMoved : $('#robotMoved').is(':checked'),
              toteMoved : $('#toteMoved').is(':checked'),
              containerMoved : $('#containerMoved').is(':checked'),
              toteStacked : $('#toteStacked').is(':checked'),
              landfillContainer : $('#landfillContainer').is(':checked'),
              coopertitionSet : $('#coopertitionSet').is(':checked'),
              coopertitionStack : $('#coopertitionStack').is(':checked')
            }
          };

          var arr = parseJSON(localStorage.unSynced) || [];
          arr.push(report);
          localStorage.unSynced = JSON.stringify(arr);

          var data = JSON.parse(localStorage.data);
          if(!data[localStorage.team]) data[localStorage.team] = {};
          if(!data[localStorage.team][localStorage.match]) data[localStorage.team][localStorage.match] = {};
          if(!data[localStorage.team][localStorage.match][localStorage.user]) data[localStorage.team][localStorage.match][localStorage.user] = [];
          data[localStorage.team][localStorage.match][localStorage.user].push(report);
          localStorage.data = JSON.stringify(data);
          console.log(localStorage.data);

          autoSync();
          $('#submit_match_report').html('Done!');
          $('#submit_match_report').prop('disabled', true);
          $('#submit_match_report').removeClass('button_hovered');
          $('#submit_match_report').removeClass('button');
          $('#submit_match_report').addClass('button_disabled');
          $('#submit_match_report').css({"background-color":"black","color":"DarkOrange"});
          setTimeout(function() {
            $('#submit_match_report').html('Submit');
            $('#submit_match_report').prop('disabled', false);
            $('#submit_match_report').css({"background-color":"DarkOrange","color":"black"});
            $('#submit_match_report').addClass('button');
            $('#submit_match_report').removeClass('button_disabled');
          }, 1000);
          
        });

        var grayTotes = 0;
        var containers = 0;
        var containerLitter = 0;
        var landfillLitter = 0;

        $('#grayTotesPlus').click(function(){
          grayTotes++;
          $('.grayTotes').val(grayTotes);
        });
        $('#grayTotesMinus').click(function(){
          grayTotes--;
          if(grayTotes<0){
            grayTotes=0;
          }
          $('.grayTotes').val(grayTotes);
        });
        $('#containersPlus').click(function(){
          containers++;
          $('.containers').val(containers);
        });
        $('#containersMinus').click(function(){
          containers--;
          if(containers<0){
            containers=0;
          }
          if(containerLitter>containers){
            containerLitter=containers;
          }
          $('.containers').val(containers);
          $('.containerLitter').val(containerLitter);
        });
        $('#containerLitterPlus').click(function(){
          containerLitter++;
          if(containerLitter>containers){
            containerLitter--;
          }
          $('.containerLitter').val(containerLitter);
        });
        $('#containerLitterMinus').click(function(){
          containerLitter--;
          if(containerLitter<0){
            containerLitter=0;
          }
          $('.containerLitter').val(containerLitter);
        });
        $('#landfillLitterPlus').click(function(){
          landfillLitter++;
          $('.landfillLitter').val(landfillLitter);
        });
        $('#landfillLitterMinus').click(function(){
          landfillLitter--;
          if(landfillLitter<0){
            landfillLitter=0;
          }
          $('.landfillLitter').val(landfillLitter);
        });

        // var reports = [];
        // var data = JSON.parse(localStorage.data);
        // if(data && data[localStorage.team] && data[localStorage.team][localStorage.match]){
        //   var match = JSON.parse(localStorage.data)[localStorage.team][localStorage.match];
        //   for(var user in match) {
        //     for(var i = 0; i < match[user].length; i++) {
        //       reports.push(match[user][i]);
        //     }
        //   }
        // }

        function viewDataMatch() {
          
          $("#viewContainer").html("");

          var reports = [];
          var data = JSON.parse(localStorage.data);
          if(data && data[localStorage.team] && data[localStorage.team][localStorage.match]){
            var match = JSON.parse(localStorage.data)[localStorage.team][localStorage.match];
            for(var user in match) {
              for(var i = 0; i < match[user].length; i++) {
                reports.push(match[user][i]);
              }
            }
          }
          if(reports.length > 0){
            for(var i = 0; i < reports.length; i++) {
              var report = reports[i];

              viewTableAuto = document.createElement('table');

              viewtr1auto = document.createElement('tr');
              viewtr1td1auto = document.createElement('td');
              viewtr1td2auto = document.createElement('td');
              viewtr1auto.appendChild(viewtr1td1auto);
              viewtr1auto.appendChild(viewtr1td2auto);

              viewtr2auto = document.createElement('tr');
              viewtr2td1auto = document.createElement('td');
              viewtr2td2auto = document.createElement('td');
              viewtr2auto.appendChild(viewtr2td1auto);
              viewtr2auto.appendChild(viewtr2td2auto);

              viewtr3auto = document.createElement('tr');
              viewtr3td1auto = document.createElement('td');
              viewtr3td2auto = document.createElement('td');
              viewtr3auto.appendChild(viewtr3td1auto);
              viewtr3auto.appendChild(viewtr3td2auto);

              viewtr4auto = document.createElement('tr');
              viewtr4td1auto = document.createElement('td');
              viewtr4td2auto = document.createElement('td');
              viewtr4auto.appendChild(viewtr4td1auto);
              viewtr4auto.appendChild(viewtr4td2auto);

              viewtr5auto = document.createElement('tr');
              viewtr5td1auto = document.createElement('td');
              viewtr5td2auto = document.createElement('td');
              viewtr5auto.appendChild(viewtr5td1auto);
              viewtr5auto.appendChild(viewtr5td2auto);

              viewtr6auto = document.createElement('tr');
              viewtr6td1auto = document.createElement('td');
              viewtr6td2auto = document.createElement('td');
              viewtr6auto.appendChild(viewtr6td1auto);
              viewtr6auto.appendChild(viewtr6td2auto);

              viewtr7auto = document.createElement('tr');
              viewtr7td1auto = document.createElement('td');
              viewtr7td2auto = document.createElement('td');
              viewtr7auto.appendChild(viewtr7td1auto);
              viewtr7auto.appendChild(viewtr7td2auto);

              viewtr8auto = document.createElement('tr');
              viewtr8td1auto = document.createElement('td');
              viewtr8td2auto = document.createElement('td');
              viewtr8auto.appendChild(viewtr8td1auto);
              viewtr8auto.appendChild(viewtr8td2auto);

              viewtr1autotext = document.createTextNode('Near Drivers');
              viewtr2autotext = document.createTextNode('Robot moved to auto zone');
              viewtr3autotext = document.createTextNode('Tote set on auto zone');
              viewtr4autotext = document.createTextNode('Container set on auto zone');
              viewtr5autotext = document.createTextNode('Totes stacked on auto zone');
              viewtr6autotext = document.createTextNode('Highest level tote stacked');
              viewtr7autotext = document.createTextNode('Can get container from landfill');
              viewtr8autotext = document.createTextNode('Comments');

              viewtr1td1auto.appendChild(viewtr1autotext);
              viewtr2td1auto.appendChild(viewtr2autotext);
              viewtr3td1auto.appendChild(viewtr3autotext);
              viewtr4td1auto.appendChild(viewtr4autotext);
              viewtr5td1auto.appendChild(viewtr5autotext);
              viewtr6td1auto.appendChild(viewtr6autotext);
              viewtr7td1auto.appendChild(viewtr7autotext);
              viewtr8td1auto.appendChild(viewtr8autotext);

              viewTableAuto.appendChild(viewtr1auto);
              viewTableAuto.appendChild(viewtr2auto);
              viewTableAuto.appendChild(viewtr3auto);
              viewTableAuto.appendChild(viewtr4auto);
              viewTableAuto.appendChild(viewtr5auto);
              viewTableAuto.appendChild(viewtr6auto);
              viewTableAuto.appendChild(viewtr7auto);
              viewTableAuto.appendChild(viewtr8auto);

              viewTableTeleop = document.createElement('table');

              viewtr1teleop = document.createElement('tr');
              viewtr1td1teleop = document.createElement('td');
              viewtr1td2teleop = document.createElement('td');
              viewtr1teleop.appendChild(viewtr1td1teleop);
              viewtr1teleop.appendChild(viewtr1td2teleop);

              viewtr2teleop = document.createElement('tr');
              viewtr2td1teleop = document.createElement('td');
              viewtr2td2teleop = document.createElement('td');
              viewtr2teleop.appendChild(viewtr2td1teleop);
              viewtr2teleop.appendChild(viewtr2td2teleop);

              viewtr3teleop = document.createElement('tr');
              viewtr3td1teleop = document.createElement('td');
              viewtr3td2teleop = document.createElement('td');
              viewtr3teleop.appendChild(viewtr3td1teleop);
              viewtr3teleop.appendChild(viewtr3td2teleop);

              viewtr4teleop = document.createElement('tr');
              viewtr4td1teleop = document.createElement('td');
              viewtr4td2teleop = document.createElement('td');
              viewtr4teleop.appendChild(viewtr4td1teleop);
              viewtr4teleop.appendChild(viewtr4td2teleop);

              viewtr5teleop = document.createElement('tr');
              viewtr5td1teleop = document.createElement('td');
              viewtr5td2teleop = document.createElement('td');
              viewtr5teleop.appendChild(viewtr5td1teleop);
              viewtr5teleop.appendChild(viewtr5td2teleop);

              viewtr6teleop = document.createElement('tr');
              viewtr6td1teleop = document.createElement('td');
              viewtr6td2teleop = document.createElement('td');
              viewtr6teleop.appendChild(viewtr6td1teleop);
              viewtr6teleop.appendChild(viewtr6td2teleop);

              viewtr7teleop = document.createElement('tr');
              viewtr7td1teleop = document.createElement('td');
              viewtr7td2teleop = document.createElement('td');
              viewtr7teleop.appendChild(viewtr7td1teleop);
              viewtr7teleop.appendChild(viewtr7td2teleop);

              viewtr8teleop = document.createElement('tr');
              viewtr8td1teleop = document.createElement('td');
              viewtr8td2teleop = document.createElement('td');
              viewtr8teleop.appendChild(viewtr8td1teleop);
              viewtr8teleop.appendChild(viewtr8td2teleop);

              viewtr1teleoptext = document.createTextNode('Gray totes scored');
              viewtr2teleoptext = document.createTextNode('Containers scored');
              viewtr3teleoptext = document.createTextNode('Litter in containers');
              viewtr4teleoptext = document.createTextNode('Litter put in landfill');
              viewtr5teleoptext = document.createTextNode('Highest level tote stacked');
              viewtr6teleoptext = document.createTextNode('Coopertition set');
              viewtr7teleoptext = document.createTextNode('Coopertition stack');
              viewtr8teleoptext = document.createTextNode('Comments');

              viewtr1td1teleop.appendChild(viewtr1teleoptext);
              viewtr2td1teleop.appendChild(viewtr2teleoptext);
              viewtr3td1teleop.appendChild(viewtr3teleoptext);
              viewtr4td1teleop.appendChild(viewtr4teleoptext);
              viewtr5td1teleop.appendChild(viewtr5teleoptext);
              viewtr6td1teleop.appendChild(viewtr6teleoptext);
              viewtr7td1teleop.appendChild(viewtr7teleoptext);
              viewtr8td1teleop.appendChild(viewtr8teleoptext);

              viewTableTeleop.appendChild(viewtr1teleop);
              viewTableTeleop.appendChild(viewtr2teleop);
              viewTableTeleop.appendChild(viewtr3teleop);
              viewTableTeleop.appendChild(viewtr4teleop);
              viewTableTeleop.appendChild(viewtr5teleop);
              viewTableTeleop.appendChild(viewtr6teleop);
              viewTableTeleop.appendChild(viewtr7teleop);
              viewTableTeleop.appendChild(viewtr8teleop);

              if(report.nearDrivers){
                $(viewtr1td2auto).html("Drivers")
              }else{
                $(viewtr1td2auto).html("Landfill")
              }
              $(viewtr2td2auto).html(report.data.robotMoved.toString());
              $(viewtr3td2auto).html(report.data.toteMoved.toString());
              $(viewtr4td2auto).html(report.data.containerMoved.toString());
              $(viewtr5td2auto).html(report.data.toteStacked.toString());
              $(viewtr6td2auto).html(report.data.highestToteAuto);
              $(viewtr7td2auto).html(report.data.landfillContainer.toString());
              $(viewtr8td2auto).html(report.data.autoComments);
              $(viewtr1td2teleop).html(report.data.grayTotes);
              $(viewtr2td2teleop).html(report.data.containers);
              $(viewtr3td2teleop).html(report.data.containerLitter);
              $(viewtr4td2teleop).html(report.data.landfillLitter);
              $(viewtr5td2teleop).html(report.data.highestToteTeleop);
              $(viewtr6td2teleop).html(report.data.coopertitionSet.toString());
              $(viewtr7td2teleop).html(report.data.coopertitionStack.toString());
              $(viewtr8td2teleop).html(report.data.teleopComments);

              $(viewTableAuto).attr('id', 'view_table');
              $(viewTableTeleop).attr('id', 'view_table');

              scoutRow = document.createElement('div');
              $(scoutRow).addClass('row');
              $(scoutRow).addClass('view_form');

              autoColumn = document.createElement('div');
              $(autoColumn).addClass('col-md-12');
              $(autoColumn).addClass('col-sm-12');
              $(autoColumn).addClass('col-xs-12');

              teleopColumn = document.createElement('div');
              $(teleopColumn).addClass('col-md-12');
              $(teleopColumn).addClass('col-sm-12');
              $(teleopColumn).addClass('col-xs-12');

              scoutDiv1 = document.createElement('div');
              $(scoutDiv1).addClass('scout_div');
              $(scoutDiv1).addClass('auto_view')

              scoutDiv2 = document.createElement('div');
              $(scoutDiv2).addClass('scout_div');
              $(scoutDiv2).addClass('auto_view')

              reportID = document.createElement('div');
              $(reportID).addClass('reportID');
              $(reportID).append("Report #" + (i + 1) + " - by " + report.meta.scout);
              if(localStorage.user == "admin" || sessionStorage.user == "admin"){
                deleteButton = document.createElement('input');
                $(deleteButton).attr('type', 'button');
                $(deleteButton).attr('value', 'Delete');
                $(deleteButton).addClass('delete');
                (function() {
                  var entry = report;
                  var index = i;
                  $(deleteButton).click(function() {
                    if(!confirm("Are you sure you want to delete Report #" + (index + 1) + "?")) return;
                    if(report.meta.checksum) {
                      var deleted = JSON.parse(localStorage.deleted || "[]");
                      deleted.push({
                        team: entry.meta.team,
                        match: entry.meta.match,
                        scout: entry.meta.scout,
                        checksum: entry.meta.checksum
                      });
                      localStorage.deleted = JSON.stringify(deleted);
                    }
                    var data = JSON.parse(localStorage.data);
                    data[report.meta.team][report.meta.match][report.meta.scout].splice(index, 1);
                    localStorage.data = JSON.stringify(data);
                    viewDataMatch();
                    autoSync();
                  });
                })();
                $(reportID).append(deleteButton);
              }

              $(scoutDiv1).append('<h3 class="scout_div_title view_title">Autonomous</h3>');
              $(scoutDiv1).append(viewTableAuto);
              $(scoutDiv2).append('<h3 class="scout_div_title view_title">Teleop</h3>');
              $(scoutDiv2).append(viewTableTeleop);

              scoutRow.appendChild(reportID);
              scoutRow.appendChild(autoColumn);
              autoColumn.appendChild(scoutDiv1);
              scoutRow.appendChild(teleopColumn);
              teleopColumn.appendChild(scoutDiv2);

              $('#viewContainer').append(scoutRow);
        
            }

          }else{
              noDataMsg = document.createElement('h1');
              $(noDataMsg).addClass('noDataMsg');
              noDataMsgText = document.createTextNode('No Data Yet');
              noDataMsg.appendChild(noDataMsgText);
              $('#viewContainer').append(noDataMsg);

          }
        }

      $('#scout_form').hide();
      $('.view_form').hide();
      $('#report_tabs').hide();

    });
    $(document).on('pagecreate', '#reportTeamPage', function(){

      $( document ).on( "swiperight", "#reportTeamPage", function( e ) {
          if ( $.mobile.activePage.jqmData( "panel" ) !== "open" ) {
            if (e.type === "swiperight") {
                console.log("swipe");
                $( "#leftPanel" ).panel( "open" );
                $('input').blur();
                $('textarea').blur();
            }  
          }        
      });

      $('#view_form').hide();
      $('#viewMatches_form').hide();
      $('.pitDelete').hide()
      if(localStorage.user == 'admin' || sessionStorage.user == "admin"){
        $('.pitDelete').show();
      }  

      // if($(window).width() < 710){
        $("#viewMatches_tab").hide();
      // } 

      if(localStorage.pitTeam){
        $('#report_team_num').html(localStorage.pitTeam);
        $('#report_team_name').html(localStorage.pitName);
      }else{
        $('#report_team_num').html(localStorage.pitNum);
        $("#dash").hide();
      }

      $("select").change(function () { 
         var str = ""; 
         str = $(this).find(":selected").text(); 
         $(".out").text(str); 
      }).trigger('change');

      var viewDataPit = function() {
        var data = JSON.parse(localStorage.data);
        console.log(JSON.stringify(data[localStorage.pitTeam]));
        if(data && data[localStorage.pitTeam] && data[localStorage.pitTeam]["pit"]){
          var report;
          var match = JSON.parse(localStorage.data)[localStorage.pitTeam]["pit"];
          for(var user in match) {
            if(match[user].length > 0) {
              report = match[user].last().data;
              break;
            }
          }
          if(report) {
            if(report.driveTrain == "choose..."){
              $('#view_driveTrain').html("No Info");
            }else{
              $('#view_driveTrain').html(report.driveTrain);
            }
            $('#view_cycleTime').html(report.cycleTime)
            $('#view_coopPoints').html(report.coopPoints)
            $('#view_speed').html(report.speed)
            $('#view_maxHeight').html(report.maxHeight)
            $('#view_configSpeed').html(report.configSpeed)
            $('#view_bumpers').html(report.bumpers.toString())
            $('#view_elevator').html(report.elevator.toString())
            $('#view_toteGrabber').html(report.toteGrabber.toString())
            $('#view_arm').html(report.arm.toString())
            $('#view_containerGrabber').html(report.containerGrabber.toString())
            $('#view_toteHerder').html(report.toteHerder.toString())
            $('#view_stepGrabber').html(report.stepGrabber)
            $('#view_toteBinFlipper').html(report.toteBinFlipper.toString())
            $('#view_retainingCage').html(report.retainingCage.toString())
            $('#view_conveyorBelt').html(report.conveyorBelt.toString())
            $('#view_litterGrabber').html(report.litterGrabber.toString())
            $('#view_humanPlayerTote').html(report.humanPlayerTote.toString())
            $('#view_humanPlayerLitter').html(report.humanPlayerLitter.toString())
            $('#view_singleToteStack').html(report.singleToteStack.toString())
          }
        }
      };

      $('#view_tab').click(function(){
        $('#view_tab').addClass("active");
        $('#scout_tab').removeClass('active');
        $('#viewMatches_tab').removeClass('active');
        $('#scout_form').hide();
        $('#viewMatches_form').hide();  
        $('#view_form').show();
        viewDataPit();
        autoSync();
      });
      $('#scout_tab').click(function(){
        $('#scout_tab').addClass("active");
        $('#view_tab').removeClass('active');
        $('#viewMatches_tab').removeClass('active');
        $('#scout_form').show();
        $("#view_form").hide();
        $('#viewMatches_form').hide();  
        $('#submit_match_report').html('Submit');
        $('#submit_match_report').prop('disabled', false);
        $('#submit_match_report').css({"background-color":"DarkOrange","color":"black"});
        autoSync();
      }); 
      $('#viewMatches_tab').click(function(){
        $('#viewMatches_tab').addClass("active");
        $('#scout_tab').removeClass('active');
        $('#view_tab').removeClass('active');
        $('#viewMatches_form').show();
        $('#view_form').hide();
        $('#scout_form').hide();
        autoSync();
      })

      $('#submit_match_report').click(function(){

        var report = {
          "meta" : {
            "team" : localStorage.pitTeam,
            "match" : "pit",
            "time" : new Date().getTime()
          },
          "data" : {
            driveTrain : $('#driveTrain').val(),
            cycleTime : parseInt($('.cycleTime').val()) || 0,
            coopPoints : parseInt($('.coopPoints').val()) || 0,
            speed : parseInt($('.speed').val()) || 0,
            maxHeight : parseInt($('.maxHeight').val()) || 0,
            configSpeed : parseInt($('.configSpeed').val()) || 0,
            bumpers : $('#bumpers').is(':checked'),
            elevator : $('#elevator').is(':checked'),
            toteGrabber : $('#toteGrabber').is(':checked'),
            arm : $('#arm').is(':checked'),
            containerGrabber : $('#containerGrabber').is(':checked'),
            toteHerder : $('#toteHerder').is(':checked'),
            stepGrabber : parseInt($('.stepGrabber').val()) || 0,
            toteBinFlipper : $('#toteBinFlipper').is(':checked'),
            retainingCage : $('#retainingCage').is(':checked'),
            conveyorBelt : $('#conveyorBelt').is(':checked'),
            litterGrabber : $('#litterGrabber').is(':checked'),
            humanPlayerTote : $('#humanPlayerTote').is(':checked'),
            humanPlayerLitter : $('#humanPlayerLitter').is(':checked'),
            singleToteStack : $('#singleToteStack').is(':checked')
          }
        };

        var arr = JSON.parse(localStorage.unSynced);
        arr.push(report);
        localStorage.unSynced = JSON.stringify(arr);

        var data = JSON.parse(localStorage.data);
        var user = localStorage.user || sessionStorage.user || "none";
        if(!data[localStorage.pitTeam]) data[localStorage.pitTeam] = {};
        if(!data[localStorage.pitTeam].pit) data[localStorage.pitTeam].pit = {};
        if(!data[localStorage.pitTeam].pit[user]) data[localStorage.pitTeam].pit[user] = [];
        data[localStorage.pitTeam].pit[user].push(report);
        localStorage.data = JSON.stringify(data);

          autoSync();
          $('#submit_match_report').html('Done!');
          $('#submit_match_report').prop('disabled', true);
          $('#submit_match_report').removeClass('button_hovered');
          $('#submit_match_report').removeClass('button');
          $('#submit_match_report').addClass('button_disabled');
          $('#submit_match_report').css({"background-color":"black","color":"DarkOrange"});
          setTimeout(function() {
            $('#submit_match_report').html('Submit');
            $('#submit_match_report').prop('disabled', false);
            $('#submit_match_report').css({"background-color":"DarkOrange","color":"black"});
            $('#submit_match_report').addClass('button');
            $('#submit_match_report').removeClass('button_disabled');
          }, 1000);
      });
    });

    $(document).on('pagecreate', '#feedbackPage', function(){     
        $( document ).on( "swiperight", "#feedbackPage", function( e ) {
          if ( $.mobile.activePage.jqmData( "panel" ) !== "open" ) {
            if (e.type === "swiperight") {
                console.log("swipe");
                $( "#leftPanel" ).panel( "open" );
                $('input').blur();
                $('textarea').blur();
            }  
          }        
        }); 
        if(localStorage.user == "GabeG" || sessionStorage.user == "GabeG"){
          $('#feedback_form').hide();
          alert("We're sorry, but there was an error in sending the feedback");
        }
        $("#submit_match_report").click(function() {
          var feedback = parseJSON(localStorage.feedback);
          feedback.push({
            "team" : $('#feedback_name').val(),
            "msg" : $('#feedback_box').val()
          });
          localStorage.feedback = JSON.stringify(feedback);
          $("#feedback_name").val("");
          $("#feedback_box").val("");
          autoSync();

        });
      });  

    $(document).on('pagecreate', '.page', function(){
      autoSync();
      if(localStorage.user !== undefined){
        var userD = document.createTextNode(" " + localStorage.user);
        $('.nameDisplay').html(userD);
      } else if (sessionStorage.user !== undefined) {
        var userD = document.createTextNode(" " + sessionStorage.user);
        $('.nameDisplay').html(userD);
      }

    });   
    </script>

    <script src="http://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/js/bootstrap.min.js"></script>

    <script id="panel-init">
    $(function() {
      $( "body>[data-role='panel']" ).panel().enhanceWithin();
    });
    </script>

    <script src="js/main.js" type="text/javascript"></script>

  </head>

<body>
  <div data-role="page" class="page" id="indexPage" data-theme="b">  

    <div data-role="header" data-position="fixed" data-tap-toggle="false">
      <a href="#leftPanel" class="ui-btn" id="bars"><span class="glyphicon glyphicon-menu-hamburger"></span></a>
      <h1>MorScout</h1>
      <a href="#" class="ui-btn nameDisplay" id="bars"></a>
    </div>

    <div data-role="content" class="ui-content" data-enhance="false">
      <div class="main_welcome">
      <div class="container">
       <div class="row"> 
         <h1>MorScout</h1>
         <h3 id="randMsg"></h3>
       </div>
      </div>
     </div> 
    </div>

  </div>

    <div data-role="panel" id="leftPanel" data-display="overlay" data-position-fixed="true" data-theme="b"> 
      <div data-role="controlgroup" data-corners="false" id="panelLinks">
          <a href="index.html" data-transition="none" data-role="button" class="panelLink" id="homeLink">Home</a>
          <a href="matches.html" data-transition="none" data-role="button" class="panelLink">All Matches</a>
          <a href="teams.html" data-transition="none" data-role="button" class="panelLink">Team List</a>
          <a href="sync.html" data-transition="none" data-role="button" class="panelLink">Sync</a>
          <a href="settings.html" data-transition="none" data-role="button" class="panelLink">Settings</a>
          <a href="help.html" data-transition="none" data-role="button" class="panelLink">Help</a>
          <a href="feedback.html" data-transition="none" data-role="button" class="panelLink">Feedback</a>
          <a href="login.html" data-transition="none" data-role="button" class="panelLink loginLink">Log in</a> 
      </div>
    </div>  

</body>
</html>