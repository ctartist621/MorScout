<!DOCTYPE html>
<html lang = "en">

 <head>
	<meta name=apple-mobile-web-app-capable content=yes>
    <meta charset="utf-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="apple-mobile-web-app-status-bar-style" content="black" />
    <title>Report Match</title>
	<link rel="apple-touch-icon" sizes="180x180" href="img/MorIcon.png">
	<link rel="apple-touch-startup-image" href="img/MorStartup.png" media="(device-width: 414px)">
	<link href='http://fonts.googleapis.com/css?family=Open+Sans:700,300,400' rel='stylesheet' type='text/css'>
	<link href='http://fonts.googleapis.com/css?family=Roboto' rel='stylesheet' type='text/css'>
	<link href='http://fonts.googleapis.com/css?family=Exo+2:100' rel='stylesheet' type='text/css'>
	<link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css">
	<link rel="stylesheet" href="css/bootstrap.min.css">
	<link rel="stylesheet" href="css/index.css" type="text/css">
	<script src="http://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.js"></script>
 </head>
 
<body>

<nav class="navbar navbar-default navbar-fixed-top">
	<div class="container-fluid">
		<div class="navbar-header">
		  <a class="navbar-brand" id="morscout" href="javascript:window.history.back();" ><span class="glyphicon glyphicon-chevron-left"></span> back</a>
		  <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#MorScoutNav" id = "toggle_button">
			<span class="icon-bar"></span>
			<span class="icon-bar"></span>
			<span class="icon-bar"></span> 
		  </button>
		</div>
		<div class="collapse navbar-collapse" id="MorScoutNav">
		  <ul class="nav navbar-nav">
			<li><a href="matches.html"title="List of all matches">All Matches</a></li>
			<li><a href="teams.html"title="List of all teams">Team List</a></li>
			<li><a href="sync.html"title="Sync with the server" >Sync</a></li>
			<li><a href="settings.html" title="Configure the settings">Settings</a></li>
		  </ul>
		  <ul class="nav navbar-nav navbar-right">
			<li><a class = "rightlinks" href="help.html" title="Need help?">Help</a></li>
			<li><a class = "rightlinks" href="#" title="Give us your opinion!">Feedback</a></li>
			<li id="UserDropdown" class="dropdown">
				<a class = "rightlinks" href="login.html">Log in</a>
			</li>
		  </ul>
		</div>
	</div>
</nav>
	 
<div class = "report">
	<div class = "container-fluid">
		<div id="report_title" class="page_title">
			<h2>Match </h2>
			<h2 id="report_match_num"></h2>
			<h2> - </h2>
			<h2 id="report_match_time"></h2>
			<h2 id="report_instruction">Choose a team to scout</h2>
		</div>
		<div class="row">
			
			<div class = "col-md-12">
				<table class="report_table">
					<tr>
						<th id="rh">Red Teams</th>
						<th id="bh">Blue Teams</th>
					</tr>
					<tr>
						<td id="r1"></td>
						<td id="b1"></td>
					</tr>
					<tr>
						<td id="r2"></td>
						<td id="b2"></td>
					</tr>
					<tr>
						<td id="r3"></td>
						<td id="b3"></td>
					</tr>
				</table>
			</div>
			
		</div>
		<div id="scout_form" class="row">	
			<div class="col-md-1 col-sm-0 col-xs-0">
			</div>	
			<div class="col-md-5 col-sm-6 col-xs-12">
	  	    	<div class="scout_div">
	  	    		<h3 class="scout_div_title">Autonomous</h3>

	  	    		<div class="radio">
		  	    		<input class="report_check" type="radio" name="auto" id="nearDrivers"></input>
		  	    		<label id="report_text" for="nearDrivers">Started near drivers</label><br/>
						<input class="report_check" type="radio" name="auto" id="radio12"></input>
						<label id="report_text" for="radio12">Started near landfill</label><br/>
					</div>	

	  	    		<input class="report_check" type="checkbox" id="robotMoved"></input>
	  	    		<label id="report_text" for="robotMoved">Robot moves to auto zone?</label><br/>

					<input class="report_check" type="checkbox" id="toteMoved"></input>
					<label id="report_text" for="toteMoved">tote moved to auto zone?</label><br/>

					<input class="report_check" type="checkbox" id="containerMoved"></input>
					<label id="report_text" for="containerMoved">Container set on auto zone?</label><br/>

					<input class="report_check" type="checkbox" id="toteStacked"></input>
					<label id="report_text" for="toteStacked">Single stacked tote set?</label><br/>

	  	    		<p id="report_text">Highest level tote stacked: </p>
	  	    		<input id="report_box_small" class="highestToteAuto" type="number"></input><br/>

	  	    		<textarea id="autoComments" class="report_area" placeholder="comments"></textarea> 
	  	    	</div>	
			</div>
			<div class="col-md-5 col-sm-6 col-xs-12">
				<div class="scout_div">
				    <h3 class="scout_div_title">Teleop</h3>  

					<p id="report_text">Gray tote scored</p>
	  	    		<input type="button" id="grayTotesMinus" class="button add_minus_button" value="-"></input>
	  	    		<input class="grayTotes" id="report_box_small" type="number" value="0"></input>
	  	    		<input type="button" id="grayTotesPlus" class="button add_minus_button" value="+"></input><br/> 

	  	    		<p id="report_text">Container scored</p>
	  	    		<input type="button" id="containersMinus" class="button add_minus_button" value="-"></input>
	  	    		<input class="containers" id="report_box_small" type="number" value="0"></input>
	  	    		<input type="button" id="containersPlus" class="button add_minus_button" value="+"></input><br/> 

	  	    		<p id="report_text">Litter in container</p>
	  	    		<input type="button" id="containerLitterMinus" class="button add_minus_button" value="-"></input>
	  	    		<input class="containerLitter" id="report_box_small" type="number" value="0"></input>
	  	    		<input type="button" id="containerLitterPlus" class="button add_minus_button" value="+"></input><br/> 

	  	    		<p id="report_text">Litter put in landfill</p>
	  	    		<input type="button" id="landfillLitterMinus" class="button add_minus_button" value="-"></input
	  	    		><input class="landfillLitter" id="report_box_small" type="number" value="0"></input>
	  	    		<input type="button" id="landfillLitterPlus" class="button add_minus_button" value="+"></input><br/>

	  	    		<p id="report_text">Highest level tote stacked: </p>
	  	    		<input id="report_box_small" type="number" class="highestToteTeleop"></input><br/>

	  	    		<input class="report_check" type="checkbox" id="landfillContainer"></input>
	  	    		<label id="report_text" for="landfillContainer">Get container from landfill?</label><br/> 
	  	    		<input class="report_check" type="checkbox" id="coopertitionSet"></input>
	  	    		<label id="report_text" for="coopertitionSet">Coopertition set</label><br/>
					<input class="report_check" type="checkbox" id="coopertitionStack"></input>
					<label id="report_text" for="coopertitionStack">Coopertition stack</label><br/>
					<textarea id="teleopComments" class="report_area" placeholder="comments"></textarea> 
				</div>
				<div class="submit_match">
					<button id="submit_match_report" class="button">Submit</button>
				</div>	
			</div>
			<div class="col-md-1 col-sm-0 col-xs-0">
			</div>		
			<!-- <div class="col-md-4 col-sm-6 col-xs-12">
				<div class="scout_div">
				    <h3 class = "scout_div_title">Litter is thrown:</h3>  
					<input class="report_check" type="checkbox" id="check31"></input><label id="report_text" for="check31">on other side</label><br/>
					<input class="report_check" type="checkbox" id="check32"></input><label id="report_text" for="check32">on own side</label><br/>
					<input class="report_check" type="checkbox" id="check33"></input><label id="report_text" for="check33">in landfill</label><br/>
					<h3 class="scout_div_title">General</h3>
	  	    		<input class="report_check" type="checkbox" id="check34"></input><label id="report_text" for="check34">Do they knock over totes?</label><br/>
					<input class="report_check" type="checkbox" id="check35"></input><label id="report_text" for="check35">Litter in recycle bin?</label><br/>
	  	    		<p id="report_text">Highest level tote: </p>
	  	    		<input id="report_box_small" type="number"></input><br/>
	  	    		<p id="report_text">Recycle bins stacked: </p>
	  	    		<input id="report_box_small" type="number"></input><br/>
	  	    		<p id="report_text">Recycle bins collected: </p>
	  	    		<input id="report_box_small" type="number"></input><br/> 
	  	    		<h3 class="scout_div_title">Autonomous</h3>  
					<p id="report_text">yellow totes stacked: </p>
	  	    		<input id="report_box_small" type="number"></input><br/>  
					<input class="report_check" type="checkbox" id="check36"></input><label id="report_text" for="check36">tote set</label><br/>
					<input class="report_check" type="checkbox" id="check37"></input><label id="report_text" for="check37">container set</label><br/>
					<input class="report_check" type="checkbox" id="check38"></input><label id="report_text" for="check38">stacked tote set</label><br/>
				</div>
			</div> -->
		</div>	
		<div class="row">
			
		</div>	
	</div>
</div>
	
<!-- JAVASCRIPT -->		
	
<script src="js/jquery-2.1.3.min.js"></script>
<script src="js/bootstrap.min.js"></script>	
<script type='application/javascript' src='js/fastclick.js'></script>	
<script type="text/javascript" src="js/links.js"></script>	

<script src="js/reportTable.js"></script>	
<script src="js/main.js" type="text/javascript"></script>

<script>
if ('addEventListener' in document) {
    document.addEventListener('DOMContentLoaded', function() {
        FastClick.attach(document.body);
    }, false);
}
</script>

<script>

	var backbutton = document.getElementById("morscout");
	backbutton.onclick = function(e){
  		e = e || window.event; // support  for IE8 and lower
  		e.preventDefault(); // stop browser from doing native logic
 		window.history.back();
	}

	$(document).ready(function() {

		$('#scout_form').hide();
		$('#submit_match_report').hide();


		$('td').bind('touchstart',function(){
			$(this).addClass('button_hovered_report')
		});
		$('td').bind('touchend',function(){
			$(this).removeClass('button_hovered_report')
		});
		$('td').hover(function(){
			$(this).toggleClass('button_hovered_report')
		});
		$('td').click(function(){
			localStorage.removeItem('team');
			localStorage.team = $(this).text();
			$('td').removeClass('button_selected_report');
 			$(this).addClass('button_selected_report');
 			$('#scout_form').fadeIn(300);
			$('#submit_match_report').fadeIn(300);
			// location = "reportTeam.html?" + getQS({"team" : $(this).text()});
		});
		
		localStorage.unSynced = "[]";
		$('#submit_match_report').click(function(){

			var arr = JSON.parse(localStorage.unSynced);
			arr.push({
				"meta" : {
					"team" : localStorage.team,
					"match" : localStorage.match,
					"time" : localStorage.time
				},
				"data" : {
					autoComments : $('#autoComments').val(),
					teleopComments : $('#teleopComments').val(),
					highestToteAuto : $('.highestToteAuto').val(),
					grayTotes : $('.grayTotes').val(),
					containers : $('.containers').val(),
					containerLitter : $('.containerLitter').val(),
					landfillLitter : $('.landfillLitter').val(),
					highestToteTeleop : $('.highestToteTeleop').val(),
					nearDrivers : $('#nearDrivers').is(':checked'),
					robotMoved : $('#robotMoved').is(':checked'),
					toteMoved : $('#toteMoved').is(':checked'),
					containerMoved : $('#containerMoved').is(':checked'),
					toteStacked : $('#toteStacked').is(':checked'),
					landfillContainer : $('#landfillContainer').is(':checked'),
					coopertitionSet : $('#coopertitionSet').is(':checked'),
					coopertitionStack : $('#coopertitionStack').is(':checked')
				}
			});
			localStorage.unSynced = JSON.stringify(arr); 

			alert(localStorage.unSynced);
		});

		var grayTotes = 0;
		var containers = 0;
		var containerLitter = 0;
		var landfillLitter = 0;

		$('#grayTotesPlus').click(function(){
			grayTotes++;
			$('.grayTotes').val(grayTotes);
		});
		$('#grayTotesMinus').click(function(){
			grayTotes--;
			if(grayTotes<0){
				grayTotes=0;
			}
			$('.grayTotes').val(grayTotes);
		});
		$('#containersPlus').click(function(){
			containers++;
			$('.containers').val(containers);
		});
		$('#containersMinus').click(function(){
			containers--;
			if(containers<0){
				containers=0;
			}
			if(containerLitter>containers){
				containerLitter=containers;
			}
			$('.containers').val(containers);
			$('.containerLitter').val(containerLitter);
		});
		$('#containerLitterPlus').click(function(){
			containerLitter++;
			if(containerLitter>containers){
				containerLitter--;
			}
			$('.containerLitter').val(containerLitter);
		});
		$('#containerLitterMinus').click(function(){
			containerLitter--;
			if(containerLitter<0){
				containerLitter=0;
			}
			$('.containerLitter').val(containerLitter);
		});
		$('#landfillLitterPlus').click(function(){
			landfillLitter++;
			$('.landfillLitter').val(landfillLitter);
		});
		$('#landfillLitterMinus').click(function(){
			landfillLitter--;
			if(landfillLitter<0){
				landfillLitter=0;
			}
			$('.landfillLitter').val(landfillLitter);
		});

	});
</script>

</body>
</html>